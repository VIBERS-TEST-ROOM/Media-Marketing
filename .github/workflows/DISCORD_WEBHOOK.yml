name: Discord General Updates

on:
  issues:
    types: [opened, closed]
  pull_request:
    types: [opened, closed]

jobs:
  notify-general:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        if: ${{ !startsWith(github.event.issue.title, '[Bounty]') && !startsWith(github.event.issue.title, '[Quest]') }}
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            ðŸ“¢ **General Update**
            Repo: ${{ github.repository }}
            Event: ${{ github.event_name }}
            By: ${{ github.actor }}
            Title: ${{ github.event.issue.title || github.event.pull_request.title }}
            Link: ${{ github.event.issue.html_url || github.event.pull_request.html_url }}
